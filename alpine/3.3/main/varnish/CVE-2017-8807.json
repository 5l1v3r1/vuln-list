{
  "IssueID": 8168,
  "VulnerabilityID": "CVE-2017-8807",
  "Release": "3.3",
  "Package": "varnish",
  "Repository": "main",
  "FixedVersion": "4.1.9-r0",
  "Subject": "[3.3] varnish: Data leak - ‘-sfile’ Stevedore transient objects (CVE-2017-8807)",
  "Description": "A wrong if statement in the varnishd source code means that synthetic objects in stevedores which over-allocate, may leak up to page size of data from a malloc(3) memory allocation.\r\nIn a unpredictable percentage of the cases where this condition arises, a segmentation fault will happen instead. All the following conditions are required to trigger the problem:\r\n\r\nA -sfile or -spersistent stevedore must be configured\r\nA synthetic object must be created in vcl_backend_error{}\r\nThe synthetic object ends up in the file or persistent stevedore.\r\n\r\nh3. Affected Versions:\r\n\r\n4.1.0 to 5.2.0\r\n\r\nh3. Fixed In:\r\n\r\nvarnish 4.1.9, varnish 5.2.1\r\n\r\nh3. References:\r\n\r\nhttp://varnish-cache.org/security/VSV00002.html\r\n\r\nh3. Patch:\r\n\r\nhttps://github.com/varnishcache/varnish-cache/commit/176f8a075a\r\n"
}